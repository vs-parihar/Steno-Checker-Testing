const nrm=s=>{if(!s)return'';let r=s.normalize('NFC').replace(/[\u200B-\u200D\uFEFF]/g,'').replace(/[\u0902\u0901]/g,'\u0902').replace(/[०-९]/g,d=>'0123456789'[d.charCodeAt(0)-2406]).replace(/[\u2010-\u2015]/g,'-').replace(/\u0922\u093c/g,'\u095d').replace(/\u0921\u093c/g,'\u095c').trim();return r.replace(/^मै$/,'में').replace(/^में$/,'मै')};
const bare=s=>nrm(s).replace(/,/g,'').replace(/[^\\w\\u0900-\\u097F\\u0964|\\-]/g,'').toLowerCase();
const tok=t=>{let r=[],re=/\S+/g,m;while((m=re.exec(t)))r.push({t:m[0],s:m.index,e:re.lastIndex});return r};
const stm=w=>{let s=nrm(w);if(s.length<4)return s;return s.replace(/(?:ओं|ियों|ों|एं|ाएं|िया|ि|ी|ा|े|ू|\u094d)('tx').value.trim(),l=exRules.wc||('wc').value=v;('tx').value;const t=origTxt.split(/\s+/);if(t.length<=cnt){('tx').value=sl.join(' ')+' ...';upWC(true)}
